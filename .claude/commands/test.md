Generate comprehensive tests for the specified code:

1. **Unit Tests**: Test individual functions/methods
2. **Integration Tests**: Test component interactions
3. **Edge Cases**: Test boundary conditions and error scenarios
4. **Performance Tests**: Test performance-critical paths
5. **Mocking**: Use appropriate mocks for external dependencies

Follow testing best practices and ensure high coverage.